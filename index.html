<html>
  <head>
    <meta charset="utf-8">
    <title>Lazy loading example</title>
    <script async src="https://securepubads.g.doubleclick.net/tag/js/gpt.js"></script>
    
    <script>
      window.googletag = window.googletag || {cmd: []};

      googletag.cmd.push(function() {
        googletag.defineSlot('/6355419/Travel', [728, 90], 'div-1')
          .setTargeting('test', 'lazyload')
          .addService(googletag.pubads());
        googletag.defineSlot('/6355419/Travel', [728, 90], 'div-2')
          .setTargeting('test', 'lazyload')
          .addService(googletag.pubads());
        googletag.defineSlot('/6355419/Travel', [728, 90], 'div-3')
          .setTargeting('test', 'lazyload')
          .addService(googletag.pubads());

        // Some examples of ways to enable lazy loading below.
        // Normally, only one of these methods should be used.

        // A) Enable with defaults.
        googletag.pubads().enableLazyLoad();

        // B) Enable without lazy fetching. Additional calls override previous
        // ones.
        googletag.pubads().enableLazyLoad({fetchMarginPercent: -1});

        // C) Enable lazy loading with...
        googletag.pubads().enableLazyLoad({
          // Fetch slots within 5 viewports.
          fetchMarginPercent: 500,
          // Render slots within 2 viewports.
          renderMarginPercent: 200,
          // Double the above values on mobile, where viewports are smaller
          // and users tend to scroll faster.
          mobileScaling: 2.0
        });

        // Register event handlers to observe lazy loading behavior.
        googletag.pubads().addEventListener('slotRequested', function(event) {
          updateSlotStatus(event.slot.getSlotElementId(), 'fetched');
        });

        googletag.pubads().addEventListener('slotOnload', function(event) {
          updateSlotStatus(event.slot.getSlotElementId(), 'rendered');
        });

        googletag.enableServices();
      });

      function updateSlotStatus(slotId, state) {
        var elem = document.getElementById(slotId + '-' + state);
        elem.className = 'activated';
        elem.innerText = 'Yes';
      }
    </script>
    <style>
      div.ad-slot {
        border-style: dashed;
        display: block;
        margin: auto;
      }

      div.main-content {
        background-color: lightsteelblue;
        margin-top: 125px;
        overflow: hidden;
        width: 100%;
      }

      div.status-panel {
        background: white;
        height: 125px;
        position: fixed;
        top: 0;
        width: 100%;
      }

      table {
        width: 100%;
      }

      table th {
        text-align: center;
      }

      table td:not(.slot-name) {
        background-color: lightsalmon;
      }

      table td.activated {
        background-color: lightgreen;
      }
    </style>
  </head>
<body>
 <script>
 /**
  * Launch a URL in full screen.
  */

const puppeteer = require('puppeteer');

const url = process.env.URL || 'https://malikblog.vercel.app/';

(async() => {

const browser = await puppeteer.launch({
  headless: false,
  // See flags at https://peter.sh/experiments/chromium-command-line-switches/.
  args: [
    '--disable-infobars', // Removes the butter bar.
    '--start-maximized',
    // '--start-fullscreen',
    // '--window-size=1920,1080',
    // '--kiosk',
  ],
});

const page = await browser.newPage();
await page.setViewport({width: 1920, height: 1080});
await page.goto(url);
await page.evaluate('document.documentElement.webkitRequestFullscreen()');
await page.waitFor(5000);

await browser.close();
})();
  </script>

    


    <div class="status-panel">
      <table>
        <tr>
          <th>Ad Slot</th>
          <th>Fetched?</th>
          <th>Rendered?</th>
        </tr>
        <tr>
          <td class="slot-name">Ad Slot 1</td>
          <td id="div-1-fetched">No</td>
          <td id="div-1-rendered">No</td>
        </tr>
        <tr>
          <td class="slot-name">Ad Slot 2</td>
          <td id="div-2-fetched">No</td>
          <td id="div-2-rendered">No</td>
        </tr>
        <tr>
          <td class="slot-name">Ad Slot 3</td>
          <td id="div-3-fetched">No</td>
          <td id="div-3-rendered">No</td>
        </tr>
      </table>
      <p>
        Scroll the container below to lazily load the ad slots.
      </p>
    </div>

  </body>
</html>
